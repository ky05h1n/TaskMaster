programs:
  programs:
  web:
    cmd: "python3 -m http.server 8080"
    numprocs: 1
    autostart: true
    autorestart: unexpected
    exitcodes:
      - 0
      - 2
    starttime: 2
    startretries: 3
    stopsignal: TERM
    stoptime: 10
    stdout: "/tmp/taskmaster.web.out"
    stderr: "/tmp/taskmaster.web.err"
    env:
      APP_ENV: "production"
      PORT: "8080"
    workingdir: "/tmp"
    umask: "022"

  worker:
    cmd: "python3 -c 'import time; time.sleep(99999)'"
    numprocs: 2
    autostart: true
    autorestart: true
    exitcodes:
      - 0
    starttime: 1
    startretries: 5
    stopsignal: TERM
    stoptime: 5
    stdout: "/tmp/taskmaster.worker.out"
    stderr: "/tmp/taskmaster.worker.err"
    env:
      WORKER_NAME: "alpha"
    workingdir: "/tmp"
    umask: "077"

  scheduler:
    cmd: "python3 -c 'import time; time.sleep(99999)'"
    numprocs: 1
    autostart: false
    autorestart: false
    exitcodes:
      - 0
    starttime: 1
    startretries: 0
    stopsignal: TERM
    stoptime: 5
    stdout: "/tmp/taskmaster.scheduler.out"
    stderr: "/tmp/taskmaster.scheduler.err"
    workingdir: "/tmp"
    umask: "022"
  run_as_nobody:
    cmd: "sleep 60"
    autostart: false
    autorestart: false
    user: "nobody"
    group: "nogroup"
  echoer:
    cmd: "bash -c 'while true; do read line; echo \"You typed: $line\"; done'"
    autorestart: false
    autostart: false
    console: true
  shell_demo:
    cmd: "bash"
    autorestart: false
    autostart: false
    console: true
alerts:
  email:
    enabled: true
    smtp_host: "smtp.gmail.com"
    smtp_port: 587
    username: "amine.elbekari13@gmail.com"
    password: "${password}"
    from: "amine.elbekari13@gmail.com"
    to: "mit.elcmecauto@gmail.com"
    subject: "TaskMaster Alert"
    use_tls: true